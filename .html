<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unified Mentor - Career Guidance</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
        }

        header {
            text-align: center;
            margin-bottom: 20px;
        }

        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo-container img {
            height: 60px; /* Adjust as needed */
            margin-right: 10px;
        }

        h1 {
            color: #333;
        }

        p {
            color: #666;
        }

        main {
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            width: 90%;
            max-width: 500px;
            text-align: center;
        }

        .auth-form {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 20px;
        }

        .auth-form input[type="email"],
        .auth-form input[type="password"],
        .auth-form input[type="text"] {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .auth-form button,
        #location-selection button,
        #logout-btn {
            background-color: #007bff;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }

        .auth-form button:hover,
        #location-selection button:hover,
        #logout-btn:hover {
            background-color: #0056b3;
        }

        .hidden {
            display: none;
        }

        #location-selection {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }

        #college-list {
            list-style: none;
            padding: 0;
            margin-top: 20px;
            text-align: left;
        }

        #college-list li {
            background-color: #f9f9f9;
            border: 1px solid #eee;
            padding: 10px;
            margin-bottom: 5px;
            border-radius: 4px;
        }
    </style>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore-compat.js"></script>
</head>
<body>
    <header>
        <div class="logo-container">
            <img src="logo.png" alt="Unified Mentor Logo">
            [cite_start]<h1>UNIFIED MENTOR</h1> [cite: 1]
        </div>
        <p>YOUR SKILL. [cite_start]SUCCESS & JOURNEY</p> [cite: 2]
    </header>

    <main>
        <section id="auth-section">
            <div class="auth-form" id="login-form">
                <h2>Student Login</h2>
                <input type="email" id="login-email" placeholder="Email">
                <input type="password" id="login-password" placeholder="Password">
                <button id="login-btn">Login</button>
                <p>Don't have an account? <a href="#" id="show-signup">Sign Up</a></p>
            </div>

            <div class="auth-form hidden" id="signup-form">
                <h2>Student Sign Up</h2>
                <input type="text" id="signup-name" placeholder="Full Name">
                <input type="email" id="signup-email" placeholder="Email">
                <input type="password" id="signup-password" placeholder="Password">
                <input type="password" id="signup-confirm-password" placeholder="Confirm Password">
                <button id="signup-btn">Sign Up</button>
                <p>Already have an account? <a href="#" id="show-login">Login</a></p>
            </div>

            <div class="auth-form hidden" id="college-signup-form">
                <h2>College Sign Up</h2>
                <input type="text" id="college-signup-name" placeholder="College Name">
                <input type="email" id="college-signup-email" placeholder="College Email">
                <input type="password" id="college-signup-password" placeholder="Password">
                <button id="college-signup-btn">Register College</button>
                <p>Go back to <a href="#" id="hide-college-signup">Student Login</a></p>
            </div>

            <button id="show-college-signup">Are you a College? Register Here</button>
        </section>

        <section id="dashboard-section" class="hidden">
            <h2>Welcome!</h2>
            <p>Select your preferences to find colleges.</p>
            <div id="location-selection">
                [cite_start]<button id="india-btn">INDIA</button> [cite: 33]
                [cite_start]<button id="abroad-btn">ABROAD</button> [cite: 33]
            </div>
            <div id="college-list-container" class="hidden">
                <h3>Colleges available based on your selection:</h3>
                <ul id="college-list">
                    </ul>
            </div>
            <button id="logout-btn">Logout</button>
        </section>
    </main>

    <script>
        // Your Firebase Configuration (Replace with your actual config)
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "YOUR_AUTH_DOMAIN",
            projectId: "YOUR_PROJECT_ID",
            storageBucket: "YOUR_STORAGE_BUCKET",
            messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
            appId: "YOUR_APP_ID"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();

        // UI Elements
        const loginForm = document.getElementById('login-form');
        const signupForm = document.getElementById('signup-form');
        const collegeSignupForm = document.getElementById('college-signup-form');
        const dashboardSection = document.getElementById('dashboard-section');
        const authSection = document.getElementById('auth-section');

        const loginEmailInput = document.getElementById('login-email');
        const loginPasswordInput = document.getElementById('login-password');
        const loginBtn = document.getElementById('login-btn');

        const signupNameInput = document.getElementById('signup-name');
        const signupEmailInput = document.getElementById('signup-email');
        const signupPasswordInput = document.getElementById('signup-password');
        const signupConfirmPasswordInput = document.getElementById('signup-confirm-password');
        const signupBtn = document.getElementById('signup-btn');

        const collegeSignupNameInput = document.getElementById('college-signup-name');
        const collegeSignupEmailInput = document.getElementById('college-signup-email');
        const collegeSignupPasswordInput = document.getElementById('college-signup-password');
        const collegeSignupBtn = document.getElementById('college-signup-btn');

        const showSignupLink = document.getElementById('show-signup');
        const showLoginLink = document.getElementById('show-login');
        const showCollegeSignupBtn = document.getElementById('show-college-signup');
        const hideCollegeSignupLink = document.getElementById('hide-college-signup');

        [cite_start]const indiaBtn = document.getElementById('india-btn'); [cite: 33]
        [cite_start]const abroadBtn = document.getElementById('abroad-btn'); [cite: 33]
        const collegeListContainer = document.getElementById('college-list-container');
        const collegeListUl = document.getElementById('college-list');
        const logoutBtn = document.getElementById('logout-btn');

        // --- UI Toggle Functions ---
        function showLoginForm() {
            loginForm.classList.remove('hidden');
            signupForm.classList.add('hidden');
            collegeSignupForm.classList.add('hidden');
            showCollegeSignupBtn.classList.remove('hidden');
        }

        function showSignupForm() {
            loginForm.classList.add('hidden');
            signupForm.classList.remove('hidden');
            collegeSignupForm.classList.add('hidden');
            showCollegeSignupBtn.classList.add('hidden'); // Hide college signup when student signup is active
        }

        function showCollegeSignup() {
            loginForm.classList.add('hidden');
            signupForm.classList.add('hidden');
            collegeSignupForm.classList.remove('hidden');
            showCollegeSignupBtn.classList.add('hidden');
        }

        function showDashboard() {
            authSection.classList.add('hidden');
            dashboardSection.classList.remove('hidden');
        }

        function showAuthSection() {
            authSection.classList.remove('hidden');
            dashboardSection.classList.add('hidden');
            showLoginForm(); // Default to login when showing auth section
        }

        // --- Event Listeners for UI Toggles ---
        showSignupLink.addEventListener('click', (e) => {
            e.preventDefault();
            showSignupForm();
        });

        showLoginLink.addEventListener('click', (e) => {
            e.preventDefault();
            showLoginForm();
        });

        showCollegeSignupBtn.addEventListener('click', () => {
            showCollegeSignup();
        });

        hideCollegeSignupLink.addEventListener('click', (e) => {
            e.preventDefault();
            showLoginForm();
        });

        // --- Authentication Functions ---

        // Student Login
        loginBtn.addEventListener('click', async () => {
            const email = loginEmailInput.value;
            const password = loginPasswordInput.value;
            try {
                await auth.signInWithEmailAndPassword(email, password);
                console.log('User logged in successfully!');
                showDashboard();
            } catch (error) {
                console.error('Login error:', error.message);
                alert('Login failed: ' + error.message);
            }
        });

        // Student Sign Up
        signupBtn.addEventListener('click', async () => {
            const name = signupNameInput.value;
            const email = signupEmailInput.value;
            const password = signupPasswordInput.value;
            const confirmPassword = signupConfirmPasswordInput.value;

            if (password !== confirmPassword) {
                alert("Passwords do not match!");
                return;
            }

            try {
                const userCredential = await auth.createUserWithEmailAndPassword(email, password);
                // Add user details to Firestore
                await db.collection('students').doc(userCredential.user.uid).set({
                    name: name,
                    email: email,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                });
                console.log('User signed up and details saved!');
                alert('Registration successful! Please login.');
                showLoginForm();
            } catch (error) {
                console.error('Signup error:', error.message);
                alert('Signup failed: ' + error.message);
            }
        });

        // College Sign Up - This would typically be an admin function in a real app, but for demonstration, showing a direct signup.
        collegeSignupBtn.addEventListener('click', async () => {
            const collegeName = collegeSignupNameInput.value;
            const collegeEmail = collegeSignupEmailInput.value;
            const collegePassword = collegeSignupPasswordInput.value;

            try {
                // Create a Firebase user for the college (could be a specific admin account)
                const userCredential = await auth.createUserWithEmailAndPassword(collegeEmail, collegePassword);
                // Save college details to Firestore
                await db.collection('colleges').doc(userCredential.user.uid).set({
                    name: collegeName,
                    email: collegeEmail,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                });
                console.log('College registered successfully!');
                alert('College registration successful! Admin can now manage this college.');
                showLoginForm();
            } catch (error) {
                console.error('College signup error:', error.message);
                alert('College registration failed: ' + error.message);
            }
        });

        // Logout
        logoutBtn.addEventListener('click', async () => {
            try {
                await auth.signOut();
                console.log('User logged out.');
                showAuthSection();
                collegeListUl.innerHTML = ''; // Clear college list on logout
                collegeListContainer.classList.add('hidden');
            } catch (error) {
                console.error('Logout error:', error.message);
            }
        });

        // --- Location Selection and College List Display ---

        async function fetchAndDisplayColleges(location) {
            collegeListUl.innerHTML = 'Loading colleges...';
            collegeListContainer.classList.remove('hidden');
            try {
                // For demonstration, let's add some dummy colleges.
                // In a real app, you'd filter by location from your 'colleges' collection.
                let colleges = [];
                if (location === 'india') {
                    colleges = [
                        { name: 'IIT Delhi', details: 'Top engineering institute.' },
                        { name: 'IIM Bangalore', details: 'Leading management school.' }
                    ];
                } else if (location === 'abroad') {
                    colleges = [
                        { name: 'MIT', details: 'Massachusetts Institute of Technology.' },
                        { name: 'Stanford University', details: 'Renowned for technology and innovation.' }
                    ];
                }

                if (colleges.length > 0) {
                    collegeListUl.innerHTML = ''; // Clear loading message
                    colleges.forEach(college => {
                        const li = document.createElement('li');
                        li.innerHTML = `<strong>${college.name}</strong>: ${college.details}`;
                        collegeListUl.appendChild(li);
                    });
                } else {
                    collegeListUl.innerHTML = 'No colleges found for this selection.';
                }

            } catch (error) {
                console.error('Error fetching colleges:', error);
                collegeListUl.innerHTML = 'Error loading colleges.';
            }
        }

        [cite_start]indiaBtn.addEventListener('click', () => { [cite: 33]
            fetchAndDisplayColleges('india');
        });

        [cite_start]abroadBtn.addEventListener('click', () => { [cite: 33]
            fetchAndDisplayColleges('abroad');
        });


        // --- Firebase Auth State Listener ---
        auth.onAuthStateChanged(user => {
            if (user) {
                console.log('User is logged in:', user.email);
                showDashboard();
            } else {
                console.log('No user logged in.');
                showAuthSection();
            }
        });

        // The document specifies modules like:
        [cite_start]// - Student Login Page [cite: 15]
        [cite_start]// - Sign Up Page [cite: 16]
        [cite_start]// - College Sign Up Page [cite: 17]
        [cite_start]// - Career Selection Page [cite: 18]
        [cite_start]// - Location Selection Page [cite: 19]
        [cite_start]// - College List Pages [cite: 20]
        [cite_start]// - College Selection Page [cite: 21]
        [cite_start]// - College Registration Page [cite: 22]
        [cite_start]// - Student Details Pages [cite: 22]
        [cite_start]// - Aptitude Test Page [cite: 23]
        [cite_start]// - Test Completion Page [cite: 23]

        // This code provides a starting point for Student Login, Sign Up, College Sign Up,
        [cite_start]// Location Selection [cite: 19][cite_start], and a basic College List display[cite: 20].
        // Significant additional code would be required to implement all other modules
        // and features described in the document, such as:
        [cite_start]// - Comprehensive college details and eligibility criteria evaluation [cite: 5, 6, 7, 31]
        [cite_start]// - Aptitude test with verbal, quantitative, and general knowledge MCQs [cite: 10, 11, 32]
        [cite_start]// - Student data management [cite: 28]
        [cite_start]// - Admin functionalities for adding/removing colleges [cite: 25, 26]
        [cite_start]// - Detailed college registration processes [cite: 9, 34]
        [cite_start]// - Test score generation [cite: 35]
        [cite_start]// - Robust logging [cite: 50, 51] and error handling.
    </script>
</body>
</html>
